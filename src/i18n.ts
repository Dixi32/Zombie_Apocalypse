// Translation dictionary for Z-Survive website
export const translations = {
  en: {
    // Navigation
    nav_home: "Homepage",
    nav_guides: "Survival Guides", 
    nav_entertainment: "Entertainment",
    nav_about: "About the Project",
    
    // Language selector
    lang_en: "English",
    lang_cs: "Czech",
    
    // Theme toggle
    theme_toggle: "Toggle Theme",
    
    // Homepage
    home_title: "Welcome to Z-Survive",
    home_subtitle: "Your Guide to Surviving the Zombie Apocalypse",
    home_intro: "Prepare yourself with practical survival knowledge and discover zombie-themed entertainment. This educational resource combines essential survival skills with engaging content about the undead.",
    home_guides_link: "Start with Survival Guides",
    home_entertainment_link: "Explore Entertainment",
    home_about_link: "Learn About This Project",
    
    // Survival Guides
    guides_title: "Survival Guides",
    guides_intro: "Essential knowledge for surviving a zombie apocalypse. These practical tips could save your life.",
    
    guides_water_title: "Water & Food",
    guides_water_purify: "Boil water for at least 10 minutes to kill pathogens",
    guides_water_filter: "Use cloth, sand, and charcoal to create basic filters",
    guides_water_storage: "Store water in clean, sealed containers away from light",
    guides_food_canned: "Prioritize canned goods with long shelf life",
    guides_food_hunting: "Learn basic hunting and foraging skills",
    guides_food_preservation: "Salt, smoke, or dry meat to preserve without refrigeration",
    
    guides_shelter_title: "Shelter & Security",
    guides_shelter_location: "Choose elevated locations with multiple escape routes",
    guides_shelter_fortify: "Reinforce doors and windows with available materials",
    guides_shelter_noise: "Minimize noise to avoid attracting unwanted attention",
    guides_shelter_supplies: "Keep emergency supplies and weapons easily accessible",
    guides_shelter_group: "Establish watch schedules if in a group",
    
    guides_health_title: "Health & First Aid",
    guides_health_kit: "Maintain a well-stocked first aid kit",
    guides_health_hygiene: "Practice good hygiene to prevent infection",
    guides_health_wounds: "Clean wounds immediately with antiseptic",
    guides_health_medicine: "Stock up on essential medications",
    guides_health_fitness: "Stay physically fit for running and fighting",
    
    guides_defense_title: "Defense & Mobility",
    guides_defense_weapons: "Choose quiet weapons over loud firearms when possible",
    guides_defense_escape: "Always have multiple escape routes planned",
    guides_defense_travel: "Travel light but carry essential survival gear",
    guides_defense_group: "Work in small, trusted groups for better survival odds",
    guides_defense_stealth: "Master stealth movement to avoid detection",
    
    // Entertainment
    entertainment_title: "Entertainment",
    entertainment_intro: "Discover zombie-themed movies, games, and books to fuel your apocalypse imagination.",
    
    entertainment_movies_title: "Movies",
    entertainment_movies_intro: "Classic zombie films that defined the genre:",
    entertainment_movies_outbreak: "Outbreak scenarios: Watch how civilizations collapse",
    entertainment_movies_survival: "Survival stories: Learn from characters' mistakes and successes",
    entertainment_movies_classics: "From Romero's classics to modern blockbusters",
    
    entertainment_games_title: "Games",
    entertainment_games_intro: "Interactive zombie survival experiences:",
    entertainment_games_mechanics: "Master survival mechanics: resource management, crafting, combat",
    entertainment_games_coop: "Cooperative gameplay: teamwork strategies for group survival",
    entertainment_games_strategy: "Strategic thinking: base building and long-term planning",
    
    entertainment_books_title: "Books",
    entertainment_books_intro: "Literary explorations of post-apocalyptic worlds:",
    entertainment_books_worlds: "Detailed post-apocalyptic world building",
    entertainment_books_psychology: "Psychological aspects of survival and human nature",
    entertainment_books_diaries: "Survivor diaries and first-person accounts",
    
    // About
    about_title: "About the Project",
    about_intro: "Z-Survive balances practical survival knowledge with entertaining zombie apocalypse content.",
    about_purpose_title: "Purpose",
    about_purpose_text: "This project combines educational survival content with zombie-themed entertainment. While the zombie apocalypse is fictional, many survival skills are genuinely useful for emergency preparedness.",
    about_goals_title: "Goals",
    about_goals_visitors: "Help visitors learn practical survival skills",
    about_goals_entertainment: "Provide engaging zombie-themed content",
    about_goals_community: "Build a community interested in survival preparedness",
    about_disclaimer_title: "Disclaimer",
    about_disclaimer_text: "This content is for educational and entertainment purposes. Always consult professional sources for serious emergency preparedness."
  },
  cs: {
    // Navigation
    nav_home: "Domov",
    nav_guides: "Průvodce přežitím",
    nav_entertainment: "Zábava", 
    nav_about: "O projektu",
    
    // Language selector
    lang_en: "Angličtina",
    lang_cs: "Čeština",
    
    // Theme toggle
    theme_toggle: "Přepnout téma",
    
    // Homepage
    home_title: "Vítejte na Z-Survive",
    home_subtitle: "Váš průvodce přežitím zombie apokalypsy",
    home_intro: "Připravte se s praktickými znalostmi o přežití a objevte zábavu na téma zombie. Tento vzdělávací zdroj kombinuje základní dovednosti přežití s poutavým obsahem o nemrtvých.",
    home_guides_link: "Začněte s průvodci přežitím",
    home_entertainment_link: "Prozkoumejte zábavu",
    home_about_link: "Zjistěte více o tomto projektu",
    
    // Survival Guides
    guides_title: "Průvodce přežitím",
    guides_intro: "Základní znalosti pro přežití zombie apokalypsy. Tyto praktické tipy vám mohou zachránit život.",
    
    guides_water_title: "Voda a jídlo",
    guides_water_purify: "Vařte vodu alespoň 10 minut pro zabití patogenů",
    guides_water_filter: "Použijte látku, písek a dřevěné uhlí k vytvoření základních filtrů",
    guides_water_storage: "Skladujte vodu v čistých, uzavřených nádobách mimo světlo",
    guides_food_canned: "Upřednostněte konzervy s dlouhou trvanlivostí",
    guides_food_hunting: "Naučte se základní dovednosti lovu a sběru",
    guides_food_preservation: "Solte, uzuďte nebo sušte maso pro konzervaci bez chlazení",
    
    guides_shelter_title: "Úkryt a bezpečnost",
    guides_shelter_location: "Vyberte vyvýšená místa s více únikovými cestami",
    guides_shelter_fortify: "Zpevněte dveře a okna dostupnými materiály",
    guides_shelter_noise: "Minimalizujte hluk, abyste nepřitahovali nežádoucí pozornost",
    guides_shelter_supplies: "Udržujte nouzové zásoby a zbraně snadno dostupné",
    guides_shelter_group: "Stanovte hlídkové rozvrhy, pokud jste ve skupině",
    
    guides_health_title: "Zdraví a první pomoc",
    guides_health_kit: "Udržujte dobře vybavenou lékárničku",
    guides_health_hygiene: "Praktikujte dobrou hygienu pro prevenci infekcí",
    guides_health_wounds: "Okamžitě očistěte rány antiseptikem",
    guides_health_medicine: "Zásobte se základními léky",
    guides_health_fitness: "Zůstaňte fyzicky fit pro běh a boj",
    
    guides_defense_title: "Obrana a mobilita",
    guides_defense_weapons: "Vyberte tiché zbraně před hlučnými střelnými zbraněmi, když je to možné",
    guides_defense_escape: "Vždy mějte naplánované více únikových cest",
    guides_defense_travel: "Cestujte nalehko, ale noste základní vybavení pro přežití",
    guides_defense_group: "Pracujte v malých, důvěryhodných skupinách pro lepší šance na přežití",
    guides_defense_stealth: "Ovládněte nenápadný pohyb, abyste se vyhnuli odhalení",
    
    // Entertainment
    entertainment_title: "Zábava",
    entertainment_intro: "Objevte filmy, hry a knihy na téma zombie, které podpoří vaši představivost o apokalypse.",
    
    entertainment_movies_title: "Filmy",
    entertainment_movies_intro: "Klasické zombie filmy, které definovaly žánr:",
    entertainment_movies_outbreak: "Scénáře vypuknutí: Sledujte, jak se civilizace hroutí",
    entertainment_movies_survival: "Příběhy přežití: Učte se z chyb a úspěchů postav",
    entertainment_movies_classics: "Od Romerových klasik po moderní blockbustery",
    
    entertainment_games_title: "Hry",
    entertainment_games_intro: "Interaktivní zážitky z přežití zombie:",
    entertainment_games_mechanics: "Ovládněte mechaniky přežití: správa zdrojů, řemesla, boj",
    entertainment_games_coop: "Kooperativní hraní: týmové strategie pro skupinové přežití",
    entertainment_games_strategy: "Strategické myšlení: budování základen a dlouhodobé plánování",
    
    entertainment_books_title: "Knihy",
    entertainment_books_intro: "Literární průzkumy post-apokalyptických světů:",
    entertainment_books_worlds: "Detailní budování post-apokalyptických světů",
    entertainment_books_psychology: "Psychologické aspekty přežití a lidské povahy",
    entertainment_books_diaries: "Deníky přeživších a vyprávění z první osoby",
    
    // About
    about_title: "O projektu",
    about_intro: "Z-Survive vyvažuje praktické znalosti o přežití se zábavným obsahem o zombie apokalypse.",
    about_purpose_title: "Účel",
    about_purpose_text: "Tento projekt kombinuje vzdělávací obsah o přežití se zábavou na téma zombie. Zatímco zombie apokalypsa je fiktivní, mnoho dovedností přežití je skutečně užitečných pro přípravu na nouzové situace.",
    about_goals_title: "Cíle",
    about_goals_visitors: "Pomoci návštěvníkům naučit se praktické dovednosti přežití",
    about_goals_entertainment: "Poskytnout poutavý obsah na téma zombie",
    about_goals_community: "Vybudovat komunitu zainteresovanou na přípravě na přežití",
    about_disclaimer_title: "Prohlášení",
    about_disclaimer_text: "Tento obsah je určen pro vzdělávací a zábavní účely. Vždy se poraďte s profesionálními zdroji pro vážnou přípravu na nouzové situace."
  }
} as const;

// Type definitions
export type Language = 'en' | 'cs';
export type TranslationKey = keyof typeof translations.en;

// Get translated text for a given language and key
export function getText(lang: Language, key: TranslationKey): string {
  try {
    const translation = translations[lang]?.[key];
    if (translation) {
      return translation;
    }
    
    // Fallback to English if translation not found
    const fallback = translations.en[key];
    if (fallback) {
      return fallback;
    }
    
    // Return key as fallback if no translation exists
    return key;
  } catch (error) {
    console.warn(`Translation error for key "${key}" in language "${lang}":`, error);
    return key;
  }
}

// Get current language from localStorage or default to English
export function getLanguage(): Language {
  try {
    const stored = localStorage.getItem('lang');
    
    // Validate stored value
    if (stored === 'en' || stored === 'cs') {
      return stored;
    }
    
    // Log invalid stored value for debugging
    if (stored !== null) {
      console.warn(`Invalid language value in localStorage: "${stored}", falling back to default`);
    }
  } catch (error) {
    console.error('Error reading language from localStorage:', error);
    // Log additional context for debugging
    console.error('localStorage may be unavailable or corrupted');
  }
  
  return 'en'; // Default to English
}

// Set language and save to localStorage
export function setLanguage(lang: Language): void {
  // Validate input parameter
  if (lang !== 'en' && lang !== 'cs') {
    console.error(`Invalid language parameter: "${lang}", must be 'en' or 'cs'`);
    return;
  }
  
  try {
    localStorage.setItem('lang', lang);
    console.log(`Language preference saved: ${lang}`);
  } catch (error) {
    console.error('Error saving language to localStorage:', error);
    
    // Provide specific error context
    if (error instanceof DOMException) {
      if (error.code === DOMException.QUOTA_EXCEEDED_ERR) {
        console.error('localStorage quota exceeded - unable to save language preference');
      } else if (error.code === DOMException.SECURITY_ERR) {
        console.error('localStorage access denied - unable to save language preference');
      }
    }
    
    // Continue execution - language will still work for current session
    console.warn('Language preference will not persist across page reloads');
  }
}

// Initialize i18n system (can be used for future setup if needed)
export function initI18n(): Language {
  return getLanguage();
}